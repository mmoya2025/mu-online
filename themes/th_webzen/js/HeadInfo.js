var scripts=document.getElementsByTagName("script");var lastScript=scripts[scripts.length-1];var scriptName=lastScript.src;var queryStringParams=GetQueryStringParamsFromUrl(scriptName);var requestParams=GetQueryStringParamsFromUrl(location.search);var strTopDomain="";var IMAGE_URL="";var GST="";var gp=window.WEBZEN={isSSL:(location.href.toLowerCase().split("://",1)[0]=="https"),strHostPrefix:(scriptName.match(/^http[s]?:\/\/([a-z]{2,3}-[a-z]{3,5}-)/i)==null?"":scriptName.match(/^http[s]?:\/\/([a-z]{2,3}-[a-z]{3,5}-)/i)[1]),isLive:false,isGameSite:false,gnbType:"P001",FooterType:"P001",strTopDomain:"webzen.com",isContinentKR:false,isContinentUS:false,isContinentEU:false,disableTopDomain:false,ContinentPrefix:""};gp.isTest=(gp.strHostPrefix.match(/test/gi)!=null);gp.isLocal=(gp.strHostPrefix.match(/local/gi)!=null);gp.isDev=(gp.strHostPrefix.match(/dev/gi)!=null);gp.isAlpha=(gp.strHostPrefix.match(/alpha/gi)!=null);gp.isBeta=(gp.strHostPrefix.match(/beta/gi)!=null);gp.disableTopDomain=(queryStringParams.disableTopDomain=="1");if(parent.window!=window&&requestParams.pdn){try{document.domain=requestParams.pdn}catch(e){}}else{if(!gp.disableTopDomain){document.domain=gp.strTopDomain}}if(!Object.keys){Object.keys=(function(){var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable("toString"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=="object"&&(typeof obj!=="function"||obj===null)){throw new TypeError("Object.keys called on non-object")}var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop)}}if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i])}}}return result}}())}function GetCookie(name){var ckName=name+"=";var cookie=document.cookie;var start=cookie.indexOf(ckName);var end;if(start!=-1){start+=ckName.length;end=cookie.indexOf(";",start);if(end==-1){end=cookie.length}return cookie.substring(start,end)}return null}function isArray(obj){if(obj.constructor.toString().indexOf("Array")==-1){return false}else{return true}}if(gp.isLocal||gp.isTest){}else{if(gp.isDev){}else{if(gp.isAlpha){}else{if(gp.isBeta){}else{gp.isLive=true;gp.strHostPrefix=""}}}}gp.Http={Platform:location.protocol+"//"+gp.strHostPrefix+gp.ContinentPrefix+"platform."+gp.strTopDomain+"",Portal:"http://"+gp.strHostPrefix+(gp.ContinentPrefix.length==0?"www":gp.ContinentPrefix)+"."+gp.strTopDomain+"",Member:"https://"+gp.strHostPrefix+gp.ContinentPrefix+"member."+gp.strTopDomain+"",Login:"https://"+gp.strHostPrefix+gp.ContinentPrefix+"login."+gp.strTopDomain+"",CS:"http://"+gp.strHostPrefix+"cs."+gp.strTopDomain+"",Image:"http://image.webzen.net",SSL:"https://ssl."+gp.strTopDomain+"",Upload:"http://"+gp.strHostPrefix+"upload."+gp.strTopDomain+"",Static:location.protocol+"//"+gp.strHostPrefix+"static."+gp.strTopDomain+"",EventImage:"http://"+gp.strHostPrefix+"eventimage."+gp.strTopDomain+"",UpFile:"http://"+gp.strHostPrefix+"upfile."+gp.strTopDomain+"",Pay:"https://"+gp.strHostPrefix+"pay."+gp.strTopDomain+"",Vision:"http://"+gp.strHostPrefix+"vision."+gp.strTopDomain+"",Forum:"http://"+gp.strHostPrefix+"forum."+gp.strTopDomain+"",Forums:"http://"+gp.strHostPrefix+"forums."+gp.strTopDomain+"",Event:"http://"+gp.strHostPrefix+"event."+gp.strTopDomain+"",MU:"http://"+gp.strHostPrefix+"muonline."+gp.strTopDomain+"",MUR:"http://"+gp.strHostPrefix+"murebirth."+gp.strTopDomain+"",SUN:"http://"+gp.strHostPrefix+"sunonline."+gp.strTopDomain+"",ARCHLORD:"http://"+gp.strHostPrefix+"archlord."+gp.strTopDomain+"",ARCHLORD2:"http://"+gp.strHostPrefix+"archlord2."+gp.strTopDomain+"",R2:"http://"+gp.strHostPrefix+"r2online."+gp.strTopDomain+"",C9:"http://"+gp.strHostPrefix+"c9."+gp.strTopDomain+"",ARCHLORDX:"http://"+gp.strHostPrefix+(gp.ContinentPrefix.length<=0?"":gp.ContinentPrefix+".")+"archlordx."+gp.strTopDomain+"",AC:"http://"+gp.strHostPrefix+"ac."+gp.strTopDomain+"",ELOA:"http://"+gp.strHostPrefix+"eloa."+gp.strTopDomain+"",ASTA:"http://"+gp.strHostPrefix+"asta."+gp.strTopDomain+"",MUORIGIN:"http://"+gp.strHostPrefix+"muorigin."+gp.strTopDomain+"",AOW:"http://wulin."+gp.strTopDomain+"",FLYFF:"http://flyff."+gp.strTopDomain+"",M2:"http://"+gp.strHostPrefix+"m2."+gp.strTopDomain+"",RAPPELZ:"http://rappelz."+gp.strTopDomain+"",TM:"http://terra-militaris."+gp.strTopDomain+"",SEVENCORE:"http://sevencore."+gp.strTopDomain+"",vBulletinForum:"http://forum."+gp.strTopDomain+"",Forums_MU:"http://forum.webzen.com/forum/en/mu-online-english",Forums_SUN:"http://"+gp.strHostPrefix+"forums.sunonline."+gp.strTopDomain+"",Forums_ARCHLORD:"http://"+gp.strHostPrefix+"forums.archlord."+gp.strTopDomain+"",Forums_C9:"http://forum.webzen.com/forum/en/c9-english",Forums_AC:"http://"+gp.strHostPrefix+"forums.ac."+gp.strTopDomain+"",Shop_MU:"http://"+gp.strHostPrefix+"itemshop.muonline."+gp.strTopDomain+"",Shop_SUN:"http://"+gp.strHostPrefix+"itemshop.sunonline."+gp.strTopDomain+"",CommunityVolunteer:"http://"+gp.strHostPrefix+"www."+gp.strTopDomain+"/volunteer-program"};gp.GameCode={MU:1,MUR:16,SUN:2,ARCHLORD:8,ARCHLORD2:8,R2:9,ARCHLORDX:13,C9:14,AC:12};gp.ServiceCode={MU:"SVR002",C9:"SVR007",MUR:"SVR009",ARCHLORD2:"SVR010",SEVENCORE:"SVR019",ELOA:"SVR022",ASTA:"SVR023"};gp.GetServiceNameByServiceCode=function(serviceCode){switch(serviceCode){case"SVR001":return"Portal";break;case"SVR002":return"MU Online";break;case"SVR007":return"C9";break;case"SVR009":return"MU Rebirth";break;case"SVR010":return"Archlord2";break;case"SVR013":return"Age of Wulin";break;case"SVR014":return"Flyff";break;case"SVR015":return"Rappelz";break;case"SVR016":return"Terra Militaris";break;case"SVR019":return"Sevencore";break;case"SVR022":return"ELOA";break;case"SVR023":return"ASTA";break}};var serviceNames=Object.keys(gp.ServiceCode);gp.GameServices=[];for(var svcIdx in serviceNames){var svcName=serviceNames[svcIdx];if(gp.Http.hasOwnProperty(svcName)){var svcInfo={Title:svcName,Link:gp.Http[svcName]};gp.GameServices.push(svcInfo)}}if(gp.isSSL){this.IMAGE_URL=gp.Http.SSL;gp.Http.Static="//"+gp.strHostPrefix+"sstatic."+gp.strTopDomain+""}else{this.IMAGE_URL=gp.Http.Image}gp.GameName="";gp.GameUrl=null;var serviceCode=GetCookie("WZSIGNUPSVCCD");if(requestParams.ReturnUrl){gp.GameUrl=requestParams.ReturnUrl}else{if(serviceCode){switch(serviceCode){case"SVR001":gp.GameUrl=gp.Http.Portal;break;case"SVR002":gp.GameUrl=gp.Http.MU;break;case"SVR007":gp.GameUrl=gp.Http.C9;break;case"SVR009":gp.GameUrl=gp.Http.MUR;break;case"SVR010":gp.GameUrl=gp.Http.ARCHLORD2;break;case"SVR013":gp.GameUrl=gp.Http.AOW;break;case"SVR014":gp.GameUrl=gp.Http.FLYFF;break;case"SVR015":gp.GameUrl=gp.Http.RAPPELZ;break;case"SVR016":gp.GameUrl=gp.Http.TM;break;case"SVR019":gp.GameUrl=gp.Http.SEVENCORE;break;case"SVR022":gp.GameUrl=gp.Http.ELOA;break;case"SVR023":gp.GameUrl=gp.Http.ASTA;break}gp.GameName=gp.GetServiceNameByServiceCode(serviceCode)}else{if(document.getElementById("ReturnUrl")!=null&&document.getElementById("ReturnUrl").value&&document.getElementById("ReturnUrl").value!=location.href){gp.GameUrl=document.getElementById("ReturnUrl").value}}}if(location.href.indexOf(gp.Http.Pay.replace("https://",""))>=0||location.href.indexOf(gp.Http.Member.replace("https://",""))>=0){gp.GameUrl=gp.Http.Portal}if((location.href.indexOf(gp.Http.vBulletinForum)>=0)){gp.isMobileForum=true}if((location.href.indexOf(gp.Http.MU)>=0)||(location.href.indexOf(gp.Http.C9)>=0)||(location.href.indexOf(gp.Http.MUR)>=0)||(location.href.indexOf(gp.Http.ARCHLORD2)>=0)||(location.href.indexOf(gp.Http.TM.replace("http://",""))>=0)||(location.href.indexOf(gp.Http.RAPPELZ.replace("http://",""))>=0)||(location.href.indexOf(gp.Http.FLYFF.replace("http://",""))>=0)||(location.href.indexOf(gp.Http.AOW.replace("http://",""))>=0)||(location.href.indexOf(gp.Http.SEVENCORE.replace("http://",""))>=0)||(location.href.indexOf(gp.Http.M2)>=0)){gp.isGameSite=true}gp.isGPOTATOGameSite=false;gp.GPOTATOOrgSite="";if((location.href.indexOf(gp.Http.TM.replace("http://",""))>=0)||(location.href.indexOf(gp.Http.RAPPELZ.replace("http://",""))>=0)||(location.href.indexOf(gp.Http.FLYFF.replace("http://",""))>=0)||(location.href.indexOf(gp.Http.AOW.replace("http://",""))>=0)||(location.href.indexOf(gp.Http.SEVENCORE.replace("http://",""))>=0)||(location.href.indexOf(gp.Http.vBulletinForum.replace("http://",""))>=0)){gp.isGPOTATOGameSite=true;if(location.href.indexOf(gp.Http.vBulletinForum.replace("http://",""))>=0){gp.GPOTATOOrgSite="http://"+location.host}else{gp.GPOTATOOrgSite="http://"+location.host.substring(3)}}document.write('<script src ="'+gp.Http.Platform+'/Scripts/load-min.js" type="text/javascript"></script>');if(typeof($)!="function"){document.write('<script src ="'+gp.Http.Static+'/platform/ui_library/jquery-1.8.2.min.js" type="text/javascript"></script>')}document.write('<script src ="'+gp.Http.Platform+'/Scripts/Util.js" type="text/javascript"></script>');document.write('<script src ="'+gp.Http.Platform+'/Localization" type="text/javascript"></script>');document.write('<script src ="'+gp.Http.Platform+'/Scripts/GNB.js" type="text/javascript"></script>');document.write('<script src ="'+gp.Http.Platform+'/Scripts/Domain.js" type="text/javascript"></script>');document.write('<script src ="'+gp.Http.Platform+'/Scripts/SNS.js" type="text/javascript"></script>');document.write('<script src ="'+gp.Http.Platform+'/Scripts/AD.js" type="text/javascript"></script>');if(navigator.userAgent.indexOf("MSIE")>=0){if(navigator.userAgent.indexOf("MSIE 9")<0){document.write('<script src ="'+gp.Http.Static+'/platform/ui_library/html5.js" type="text/javascript"></script>')}}var eleFavIco=document.createElement("link");eleFavIco.setAttribute("rel","shortcut icon");eleFavIco.setAttribute("type","image/x-icon");try{eleFavIco.setAttribute("href",this.IMAGE_URL+"/platform/webzen.ico")}catch(e){}document.getElementsByTagName("head")[0].appendChild(eleFavIco);function GetQueryStringParams(sParam){var sPageURL=window.location.search.substring(1);var sURLVariables=sPageURL.split("&");for(var i=0;i<sURLVariables.length;i++){var sParameterName=sURLVariables[i].split("=");if(sParameterName[0]==sParam){return sParameterName[1]}}}function GetQueryStringParamsFromUrl(sUrl){var oParams=new Object();var sQueryString=sUrl.substring(sUrl.indexOf("?")+1,sUrl.length);var sURLVariables=sQueryString.split("&");for(var i=0;i<sURLVariables.length;i++){var sParameterKeyValue=sURLVariables[i].split("=");var sKey=unescape(sParameterKeyValue[0]);var sValue=unescape(sParameterKeyValue[1]);sValue=sValue.replace(/\+/g," ");oParams[sKey]=sValue}return oParams};